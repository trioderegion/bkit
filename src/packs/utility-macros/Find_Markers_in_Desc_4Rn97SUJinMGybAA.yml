name: Find Markers in Desc
type: script
author: UkXd4NXnT5o2bQiL
img: icons/svg/dice-target.svg
scope: global
command: >-
  const packId = 'dnd-players-handbook.equipment';

  const searchTerm = '<table>';


  const pack = game.packs.get(packId);

  const index = await pack.getIndex({fields: ["system.description.value"]});


  const found = index.values().filter( d => foundry.utils.getProperty(d,
  'system.description.value')?.includes(searchTerm) )


  ui.notifications.info(`Found ${found.length} matching items`);


  found.forEach( d => fromUuid(d.uuid).then( doc => doc.sheet.render(true) ));
folder: omQP7IAQLxa0uKx5
ownership:
  default: 0
  UkXd4NXnT5o2bQiL: 3
flags: {}
_stats:
  compendiumSource: null
  duplicateSource: null
  coreVersion: '13.348'
  systemId: dnd5e
  systemVersion: 4.0.4
  createdTime: 1728322049662
  modifiedTime: 1758207742400
  lastModifiedBy: xREoBzi7Iao0TR7B
  exportSource: null
_id: 4Rn97SUJinMGybAA
sort: 75000
_key: '!macros!4Rn97SUJinMGybAA'
